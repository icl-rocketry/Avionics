<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Ricardo OS: /Users/kiran/Documents/Projects/ICLR/Avionics/Ricardo_OS/Ricardo_OS/lib/SdFat-master-adafruit_fork/src/FatLib/FatFileSystem.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Ricardo OS
   &#160;<span id="projectnumber">1</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_97aefd0d527b934f1d99a682da8fe6a9.html">lib</a></li><li class="navelem"><a class="el" href="dir_dfae223b05b724f6bede3483498f5a76.html">SdFat-master-adafruit_fork</a></li><li class="navelem"><a class="el" href="dir_9372184f7691c224cbf5862124cb4f89.html">src</a></li><li class="navelem"><a class="el" href="dir_84b1a408af426c3eb06d6791397f38d2.html">FatLib</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">FatFileSystem.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="_fat_file_system_8h.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160; </div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#ifndef FatFileSystem_h</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#define FatFileSystem_h</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_fat_volume_8h.html">FatVolume.h</a>&quot;</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_fat_file_8h.html">FatFile.h</a>&quot;</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_arduino_files_8h.html">ArduinoFiles.h</a>&quot;</span></div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="comment">//------------------------------------------------------------------------------</span></div>
<div class="line"><a name="l00039"></a><span class="lineno"><a class="line" href="class_fat_file_system.html">   39</a></span>&#160;<span class="comment"></span><span class="keyword">class </span><a class="code" href="class_fat_file_system.html">FatFileSystem</a> : <span class="keyword">public</span>  <a class="code" href="class_fat_volume.html">FatVolume</a> {</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160; <span class="keyword">public</span>:</div>
<div class="line"><a name="l00048"></a><span class="lineno"><a class="line" href="class_fat_file_system.html#a5dda20d3dcbfc8c641babbb2c9aac382">   48</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="class_fat_file_system.html#a5dda20d3dcbfc8c641babbb2c9aac382">begin</a>(<a class="code" href="class_sd_spi_card.html">BlockDriver</a>* blockDev, uint8_t <a class="code" href="_fat_structs_8h.html#aa65f87792f271fc6cfa70980af6ac3dd">part</a> = 0) {</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;    m_blockDev = blockDev;</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;    <a class="code" href="class_fat_file_system.html#acf257d02b7166683bda2abc5058004bf">vwd</a>()-&gt;<a class="code" href="class_fat_file.html#afd16af325e0642e4bff6430b7d8bb18b">close</a>();</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;    <span class="keywordflow">return</span> (<a class="code" href="_fat_structs_8h.html#aa65f87792f271fc6cfa70980af6ac3dd">part</a> ? <a class="code" href="class_fat_volume.html#acab819fa25a91dad1cc698a7e1e0eb32">init</a>(<a class="code" href="_fat_structs_8h.html#aa65f87792f271fc6cfa70980af6ac3dd">part</a>) : <a class="code" href="class_fat_volume.html#acab819fa25a91dad1cc698a7e1e0eb32">init</a>(1) || <a class="code" href="class_fat_volume.html#acab819fa25a91dad1cc698a7e1e0eb32">init</a>(0))</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;            &amp;&amp; <a class="code" href="class_fat_file_system.html#acf257d02b7166683bda2abc5058004bf">vwd</a>()-&gt;<a class="code" href="class_fat_file.html#a7e0c0548fed3a69e7284b91b694439d4">openRoot</a>(<span class="keyword">this</span>) &amp;&amp; <a class="code" href="class_fat_file.html#a360ef9c05e677271bed6c0a4d663634c">FatFile::setCwd</a>(<a class="code" href="class_fat_file_system.html#acf257d02b7166683bda2abc5058004bf">vwd</a>());</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;  }</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;<span class="preprocessor">#if ENABLE_ARDUINO_FEATURES</span></div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="class_fat_file_system.html#ac281c164ab376648c31a168817d1d3c2">ls</a>(uint8_t flags = 0) {</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="class_fat_file_system.html#ac281c164ab376648c31a168817d1d3c2">ls</a>(&amp;Serial, flags);</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;  }</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="class_fat_file_system.html#ac281c164ab376648c31a168817d1d3c2">ls</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* path, uint8_t flags = 0) {</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="class_fat_file_system.html#ac281c164ab376648c31a168817d1d3c2">ls</a>(&amp;Serial, path, flags);</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;  }</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;  File open(<span class="keyword">const</span> <span class="keywordtype">char</span> *path, oflag_t oflag = FILE_READ) {</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;    File tmpFile;</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;    tmpFile.open(<a class="code" href="class_fat_file_system.html#acf257d02b7166683bda2abc5058004bf">vwd</a>(), path, oflag);</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;    <span class="keywordflow">return</span> tmpFile;</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;  }</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;  File open(<span class="keyword">const</span> <a class="code" href="class_string.html">String</a> &amp;path, oflag_t oflag = FILE_READ) {</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;    <span class="keywordflow">return</span> open(path.c_str(), oflag );</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;  }</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;<span class="preprocessor">#endif  </span><span class="comment">// ENABLE_ARDUINO_FEATURES</span></div>
<div class="line"><a name="l00120"></a><span class="lineno"><a class="line" href="class_fat_file_system.html#a5667915e63187a43a71dfada63800865">  120</a></span>&#160;<span class="comment"></span>  bool chdir(bool set_cwd = false) {</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;    <a class="code" href="class_fat_file_system.html#acf257d02b7166683bda2abc5058004bf">vwd</a>()-&gt;<a class="code" href="class_fat_file.html#afd16af325e0642e4bff6430b7d8bb18b">close</a>();</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="class_fat_file_system.html#acf257d02b7166683bda2abc5058004bf">vwd</a>()-&gt;<a class="code" href="class_fat_file.html#a7e0c0548fed3a69e7284b91b694439d4">openRoot</a>(<span class="keyword">this</span>) &amp;&amp; (set_cwd ? <a class="code" href="class_fat_file.html#a360ef9c05e677271bed6c0a4d663634c">FatFile::setCwd</a>(<a class="code" href="class_fat_file_system.html#acf257d02b7166683bda2abc5058004bf">vwd</a>()) : true);</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;  }</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;  <span class="comment">//----------------------------------------------------------------------------</span></div>
<div class="line"><a name="l00145"></a><span class="lineno"><a class="line" href="class_fat_file_system.html#a44af1b98e8d986d12107b654453acbc4">  145</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="class_fat_file_system.html#a44af1b98e8d986d12107b654453acbc4">chdir</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *path, <span class="keywordtype">bool</span> set_cwd = <span class="keyword">false</span>) {</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;    <a class="code" href="class_fat_file.html">FatFile</a> dir;</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;    <span class="keywordflow">if</span> (path[0] == <span class="charliteral">&#39;/&#39;</span> &amp;&amp; path[1] == <span class="charliteral">&#39;\0&#39;</span>) {</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;      <span class="keywordflow">return</span> chdir(set_cwd);</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;    }</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;    <span class="keywordflow">if</span> (!dir.<a class="code" href="class_fat_file.html#a3567b0760afe1250334b6c85c2ad5869">open</a>(vwd(), path, O_RDONLY)) {</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;      <span class="keywordflow">goto</span> fail;</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;    }</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;    <span class="keywordflow">if</span> (!dir.<a class="code" href="class_fat_file.html#a933360b20b496421b2bd9ee7a95563a6">isDir</a>()) {</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;      <span class="keywordflow">goto</span> fail;</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;    }</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;    m_vwd = dir;</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;    <span class="keywordflow">if</span> (set_cwd) {</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;      <a class="code" href="class_fat_file.html#a360ef9c05e677271bed6c0a4d663634c">FatFile::setCwd</a>(vwd());</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;    }</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160; </div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;fail:</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;  }</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;  <span class="comment">//----------------------------------------------------------------------------</span></div>
<div class="line"><a name="l00175"></a><span class="lineno"><a class="line" href="class_fat_file_system.html#af24917d6e00c8766dab168eb834047ec">  175</a></span>&#160;<span class="comment"></span>  <span class="keywordtype">void</span> <a class="code" href="class_fat_file_system.html#af24917d6e00c8766dab168eb834047ec">chvol</a>() {</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;    <a class="code" href="class_fat_file.html#a360ef9c05e677271bed6c0a4d663634c">FatFile::setCwd</a>(vwd());</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;  }</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;  <span class="comment">//----------------------------------------------------------------------------</span></div>
<div class="line"><a name="l00186"></a><span class="lineno"><a class="line" href="class_fat_file_system.html#aee58c6352652f216577196e32a594b67">  186</a></span>&#160;<span class="comment"></span>  <span class="keywordtype">bool</span> <a class="code" href="class_fat_file_system.html#aee58c6352652f216577196e32a594b67">exists</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* path) {</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;    <span class="keywordflow">return</span> vwd()-&gt;exists(path);</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;  }</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;  <span class="comment">//----------------------------------------------------------------------------</span></div>
<div class="line"><a name="l00204"></a><span class="lineno"><a class="line" href="class_fat_file_system.html#ac281c164ab376648c31a168817d1d3c2">  204</a></span>&#160;<span class="comment"></span>  <span class="keywordtype">bool</span> <a class="code" href="class_fat_file_system.html#ac281c164ab376648c31a168817d1d3c2">ls</a>(<a class="code" href="class_char_writer.html">print_t</a>* pr, uint8_t flags = 0) {</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;    <span class="keywordflow">return</span> vwd()-&gt;ls(pr, flags);</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;  }</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;  <span class="comment">//----------------------------------------------------------------------------</span></div>
<div class="line"><a name="l00224"></a><span class="lineno"><a class="line" href="class_fat_file_system.html#a3bc01f735d956fff9ad00f932bc827f7">  224</a></span>&#160;<span class="comment"></span>  <span class="keywordtype">bool</span> <a class="code" href="class_fat_file_system.html#a3bc01f735d956fff9ad00f932bc827f7">ls</a>(<a class="code" href="class_char_writer.html">print_t</a>* pr, <span class="keyword">const</span> <span class="keywordtype">char</span>* path, uint8_t flags) {</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;    <a class="code" href="class_fat_file.html">FatFile</a> dir;</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;    <span class="keywordflow">return</span> dir.<a class="code" href="class_fat_file.html#a3567b0760afe1250334b6c85c2ad5869">open</a>(vwd(), path, O_RDONLY) &amp;&amp; dir.<a class="code" href="class_fat_file.html#a60ab9d16bcc778150a364c26de467de1">ls</a>(pr, flags);</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;  }</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;  <span class="comment">//----------------------------------------------------------------------------</span></div>
<div class="line"><a name="l00238"></a><span class="lineno"><a class="line" href="class_fat_file_system.html#a231c62c98ba8ac3c2624dc5ad2053ebf">  238</a></span>&#160;<span class="comment"></span>  <span class="keywordtype">bool</span> <a class="code" href="class_fat_file_system.html#a231c62c98ba8ac3c2624dc5ad2053ebf">mkdir</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* path, <span class="keywordtype">bool</span> pFlag = <span class="keyword">true</span>) {</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;    <a class="code" href="class_fat_file.html">FatFile</a> sub;</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;    <span class="keywordflow">return</span> sub.<a class="code" href="class_fat_file.html#abab5b9f72cc796388dd4eed01d13d90d">mkdir</a>(vwd(), path, pFlag);</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;  }</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;  <span class="comment">//----------------------------------------------------------------------------</span></div>
<div class="line"><a name="l00250"></a><span class="lineno"><a class="line" href="class_fat_file_system.html#abf7d7d0dab43083d5be10d70ff4669e4">  250</a></span>&#160;<span class="comment"></span>  <span class="keywordtype">bool</span> <a class="code" href="class_fat_file_system.html#abf7d7d0dab43083d5be10d70ff4669e4">remove</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* path) {</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="class_fat_file.html#ac837a537fbcca14c7aa390c5fc9f4e7c">FatFile::remove</a>(vwd(), path);</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;  }</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;  <span class="comment">//----------------------------------------------------------------------------</span></div>
<div class="line"><a name="l00269"></a><span class="lineno"><a class="line" href="class_fat_file_system.html#a0187891a24017b41bd7c5ba63e659e65">  269</a></span>&#160;<span class="comment"></span>  <span class="keywordtype">bool</span> <a class="code" href="class_fat_file_system.html#a0187891a24017b41bd7c5ba63e659e65">rename</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *oldPath, <span class="keyword">const</span> <span class="keywordtype">char</span> *newPath) {</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;    <a class="code" href="class_fat_file.html">FatFile</a> file;</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;    <span class="keywordflow">if</span> (!file.<a class="code" href="class_fat_file.html#a3567b0760afe1250334b6c85c2ad5869">open</a>(vwd(), oldPath, O_RDONLY)) {</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;    }</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;    <span class="keywordflow">return</span> file.<a class="code" href="class_fat_file.html#a4cebcac13c1f4c9de7a055ae73133599">rename</a>(vwd(), newPath);</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;  }</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;  <span class="comment">//----------------------------------------------------------------------------</span></div>
<div class="line"><a name="l00286"></a><span class="lineno"><a class="line" href="class_fat_file_system.html#aaed2edc7ff7fedb163458c870bb41b33">  286</a></span>&#160;<span class="comment"></span>  <span class="keywordtype">bool</span> <a class="code" href="class_fat_file_system.html#aaed2edc7ff7fedb163458c870bb41b33">rmdir</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* path) {</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;    <a class="code" href="class_fat_file.html">FatFile</a> sub;</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;    <span class="keywordflow">if</span> (!sub.<a class="code" href="class_fat_file.html#a3567b0760afe1250334b6c85c2ad5869">open</a>(vwd(), path, O_RDONLY)) {</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;    }</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;    <span class="keywordflow">return</span> sub.<a class="code" href="class_fat_file.html#a9515bac181d33e7f0125e88fa2ccd283">rmdir</a>();</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;  }</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;  <span class="comment">//----------------------------------------------------------------------------</span></div>
<div class="line"><a name="l00304"></a><span class="lineno"><a class="line" href="class_fat_file_system.html#ad60cb13557f35578f868e03e9ccb8be1">  304</a></span>&#160;<span class="comment"></span>  <span class="keywordtype">bool</span> <a class="code" href="class_fat_file_system.html#ad60cb13557f35578f868e03e9ccb8be1">truncate</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* path, uint32_t length) {</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;    <a class="code" href="class_fat_file.html">FatFile</a> file;</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;    <span class="keywordflow">if</span> (!file.<a class="code" href="class_fat_file.html#a3567b0760afe1250334b6c85c2ad5869">open</a>(vwd(), path, O_WRONLY)) {</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;    }</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;    <span class="keywordflow">return</span> file.<a class="code" href="class_fat_file.html#aa6e663098a578635d37d92e82d18d616">truncate</a>(length);</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;  }</div>
<div class="line"><a name="l00312"></a><span class="lineno"><a class="line" href="class_fat_file_system.html#a4ca68fe47bb675df0a80df1ed7a53698">  312</a></span>&#160;  <a class="code" href="class_fat_volume.html">FatVolume</a>* <a class="code" href="class_fat_file_system.html#a4ca68fe47bb675df0a80df1ed7a53698">vol</a>() {</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">this</span>;</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;  }</div>
<div class="line"><a name="l00316"></a><span class="lineno"><a class="line" href="class_fat_file_system.html#acf257d02b7166683bda2abc5058004bf">  316</a></span>&#160;  <a class="code" href="class_fat_file.html">FatFile</a>* <a class="code" href="class_fat_file_system.html#acf257d02b7166683bda2abc5058004bf">vwd</a>() {</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;    <span class="keywordflow">return</span> &amp;m_vwd;</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;  }</div>
<div class="line"><a name="l00324"></a><span class="lineno"><a class="line" href="class_fat_file_system.html#a36d7831f92acfbfef1c4a24dd7103dc4">  324</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="class_fat_file_system.html#a36d7831f92acfbfef1c4a24dd7103dc4">wipe</a>(<a class="code" href="class_char_writer.html">print_t</a>* pr = 0) {</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;    vwd()-&gt;close();</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="class_fat_volume.html#a8088aa74cf601996905dadd2eea6966c">FatVolume::wipe</a>(pr);</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;  }</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160; </div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160; <span class="keyword">private</span>:</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;  <a class="code" href="class_fat_file.html">FatFile</a> m_vwd;</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;};</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;<span class="preprocessor">#endif  </span><span class="comment">// FatFileSystem_h</span></div>
<div class="ttc" id="a_arduino_files_8h_html"><div class="ttname"><a href="_arduino_files_8h.html">ArduinoFiles.h</a></div><div class="ttdoc">PrintFile class.</div></div>
<div class="ttc" id="a_fat_file_8h_html"><div class="ttname"><a href="_fat_file_8h.html">FatFile.h</a></div><div class="ttdoc">FatFile class.</div></div>
<div class="ttc" id="a_fat_structs_8h_html_aa65f87792f271fc6cfa70980af6ac3dd"><div class="ttname"><a href="_fat_structs_8h.html#aa65f87792f271fc6cfa70980af6ac3dd">part</a></div><div class="ttdeci">part_t part[4]</div><div class="ttdef"><b>Definition:</b> FatStructs.h:7</div></div>
<div class="ttc" id="a_fat_volume_8h_html"><div class="ttname"><a href="_fat_volume_8h.html">FatVolume.h</a></div><div class="ttdoc">FatVolume class.</div></div>
<div class="ttc" id="aclass_char_writer_html"><div class="ttname"><a href="class_char_writer.html">CharWriter</a></div><div class="ttdoc">Character output - often serial port.</div><div class="ttdef"><b>Definition:</b> FatVolume.h:59</div></div>
<div class="ttc" id="aclass_fat_file_html"><div class="ttname"><a href="class_fat_file.html">FatFile</a></div><div class="ttdoc">Basic file class.</div><div class="ttdef"><b>Definition:</b> FatFile.h:110</div></div>
<div class="ttc" id="aclass_fat_file_html_a3567b0760afe1250334b6c85c2ad5869"><div class="ttname"><a href="class_fat_file.html#a3567b0760afe1250334b6c85c2ad5869">FatFile::open</a></div><div class="ttdeci">bool open(FatFileSystem *fs, const char *path, oflag_t oflag)</div><div class="ttdef"><b>Definition:</b> FatFile.cpp:373</div></div>
<div class="ttc" id="aclass_fat_file_html_a360ef9c05e677271bed6c0a4d663634c"><div class="ttname"><a href="class_fat_file.html#a360ef9c05e677271bed6c0a4d663634c">FatFile::setCwd</a></div><div class="ttdeci">static bool setCwd(FatFile *dir)</div><div class="ttdef"><b>Definition:</b> FatFile.h:837</div></div>
<div class="ttc" id="aclass_fat_file_html_a4cebcac13c1f4c9de7a055ae73133599"><div class="ttname"><a href="class_fat_file.html#a4cebcac13c1f4c9de7a055ae73133599">FatFile::rename</a></div><div class="ttdeci">bool rename(const char *newPath)</div><div class="ttdef"><b>Definition:</b> FatFile.h:766</div></div>
<div class="ttc" id="aclass_fat_file_html_a60ab9d16bcc778150a364c26de467de1"><div class="ttname"><a href="class_fat_file.html#a60ab9d16bcc778150a364c26de467de1">FatFile::ls</a></div><div class="ttdeci">bool ls(print_t *pr, uint8_t flags=0, uint8_t indent=0)</div><div class="ttdef"><b>Definition:</b> FatFilePrint.cpp:99</div></div>
<div class="ttc" id="aclass_fat_file_html_a7e0c0548fed3a69e7284b91b694439d4"><div class="ttname"><a href="class_fat_file.html#a7e0c0548fed3a69e7284b91b694439d4">FatFile::openRoot</a></div><div class="ttdeci">bool openRoot(FatVolume *vol)</div><div class="ttdef"><b>Definition:</b> FatFile.cpp:690</div></div>
<div class="ttc" id="aclass_fat_file_html_a933360b20b496421b2bd9ee7a95563a6"><div class="ttname"><a href="class_fat_file.html#a933360b20b496421b2bd9ee7a95563a6">FatFile::isDir</a></div><div class="ttdeci">bool isDir() const</div><div class="ttdef"><b>Definition:</b> FatFile.h:393</div></div>
<div class="ttc" id="aclass_fat_file_html_a9515bac181d33e7f0125e88fa2ccd283"><div class="ttname"><a href="class_fat_file.html#a9515bac181d33e7f0125e88fa2ccd283">FatFile::rmdir</a></div><div class="ttdeci">bool rmdir()</div><div class="ttdef"><b>Definition:</b> FatFile.cpp:1017</div></div>
<div class="ttc" id="aclass_fat_file_html_aa6e663098a578635d37d92e82d18d616"><div class="ttname"><a href="class_fat_file.html#aa6e663098a578635d37d92e82d18d616">FatFile::truncate</a></div><div class="ttdeci">bool truncate(uint32_t length)</div><div class="ttdef"><b>Definition:</b> FatFile.cpp:1318</div></div>
<div class="ttc" id="aclass_fat_file_html_abab5b9f72cc796388dd4eed01d13d90d"><div class="ttname"><a href="class_fat_file.html#abab5b9f72cc796388dd4eed01d13d90d">FatFile::mkdir</a></div><div class="ttdeci">bool mkdir(FatFile *dir, const char *path, bool pFlag=true)</div><div class="ttdef"><b>Definition:</b> FatFile.cpp:261</div></div>
<div class="ttc" id="aclass_fat_file_html_ac837a537fbcca14c7aa390c5fc9f4e7c"><div class="ttname"><a href="class_fat_file.html#ac837a537fbcca14c7aa390c5fc9f4e7c">FatFile::remove</a></div><div class="ttdeci">bool remove()</div><div class="ttdef"><b>Definition:</b> FatFileLFN.cpp:554</div></div>
<div class="ttc" id="aclass_fat_file_html_afd16af325e0642e4bff6430b7d8bb18b"><div class="ttname"><a href="class_fat_file.html#afd16af325e0642e4bff6430b7d8bb18b">FatFile::close</a></div><div class="ttdeci">bool close()</div><div class="ttdef"><b>Definition:</b> FatFile.cpp:95</div></div>
<div class="ttc" id="aclass_fat_file_system_html"><div class="ttname"><a href="class_fat_file_system.html">FatFileSystem</a></div><div class="ttdoc">Integration class for the FatLib library.</div><div class="ttdef"><b>Definition:</b> FatFileSystem.h:39</div></div>
<div class="ttc" id="aclass_fat_file_system_html_a0187891a24017b41bd7c5ba63e659e65"><div class="ttname"><a href="class_fat_file_system.html#a0187891a24017b41bd7c5ba63e659e65">FatFileSystem::rename</a></div><div class="ttdeci">bool rename(const char *oldPath, const char *newPath)</div><div class="ttdef"><b>Definition:</b> FatFileSystem.h:269</div></div>
<div class="ttc" id="aclass_fat_file_system_html_a231c62c98ba8ac3c2624dc5ad2053ebf"><div class="ttname"><a href="class_fat_file_system.html#a231c62c98ba8ac3c2624dc5ad2053ebf">FatFileSystem::mkdir</a></div><div class="ttdeci">bool mkdir(const char *path, bool pFlag=true)</div><div class="ttdef"><b>Definition:</b> FatFileSystem.h:238</div></div>
<div class="ttc" id="aclass_fat_file_system_html_a36d7831f92acfbfef1c4a24dd7103dc4"><div class="ttname"><a href="class_fat_file_system.html#a36d7831f92acfbfef1c4a24dd7103dc4">FatFileSystem::wipe</a></div><div class="ttdeci">bool wipe(print_t *pr=0)</div><div class="ttdef"><b>Definition:</b> FatFileSystem.h:324</div></div>
<div class="ttc" id="aclass_fat_file_system_html_a3bc01f735d956fff9ad00f932bc827f7"><div class="ttname"><a href="class_fat_file_system.html#a3bc01f735d956fff9ad00f932bc827f7">FatFileSystem::ls</a></div><div class="ttdeci">bool ls(print_t *pr, const char *path, uint8_t flags)</div><div class="ttdef"><b>Definition:</b> FatFileSystem.h:224</div></div>
<div class="ttc" id="aclass_fat_file_system_html_a44af1b98e8d986d12107b654453acbc4"><div class="ttname"><a href="class_fat_file_system.html#a44af1b98e8d986d12107b654453acbc4">FatFileSystem::chdir</a></div><div class="ttdeci">bool chdir(const char *path, bool set_cwd=false)</div><div class="ttdef"><b>Definition:</b> FatFileSystem.h:145</div></div>
<div class="ttc" id="aclass_fat_file_system_html_a4ca68fe47bb675df0a80df1ed7a53698"><div class="ttname"><a href="class_fat_file_system.html#a4ca68fe47bb675df0a80df1ed7a53698">FatFileSystem::vol</a></div><div class="ttdeci">FatVolume * vol()</div><div class="ttdef"><b>Definition:</b> FatFileSystem.h:312</div></div>
<div class="ttc" id="aclass_fat_file_system_html_a5dda20d3dcbfc8c641babbb2c9aac382"><div class="ttname"><a href="class_fat_file_system.html#a5dda20d3dcbfc8c641babbb2c9aac382">FatFileSystem::begin</a></div><div class="ttdeci">bool begin(BlockDriver *blockDev, uint8_t part=0)</div><div class="ttdef"><b>Definition:</b> FatFileSystem.h:48</div></div>
<div class="ttc" id="aclass_fat_file_system_html_aaed2edc7ff7fedb163458c870bb41b33"><div class="ttname"><a href="class_fat_file_system.html#aaed2edc7ff7fedb163458c870bb41b33">FatFileSystem::rmdir</a></div><div class="ttdeci">bool rmdir(const char *path)</div><div class="ttdef"><b>Definition:</b> FatFileSystem.h:286</div></div>
<div class="ttc" id="aclass_fat_file_system_html_abf7d7d0dab43083d5be10d70ff4669e4"><div class="ttname"><a href="class_fat_file_system.html#abf7d7d0dab43083d5be10d70ff4669e4">FatFileSystem::remove</a></div><div class="ttdeci">bool remove(const char *path)</div><div class="ttdef"><b>Definition:</b> FatFileSystem.h:250</div></div>
<div class="ttc" id="aclass_fat_file_system_html_ac281c164ab376648c31a168817d1d3c2"><div class="ttname"><a href="class_fat_file_system.html#ac281c164ab376648c31a168817d1d3c2">FatFileSystem::ls</a></div><div class="ttdeci">bool ls(print_t *pr, uint8_t flags=0)</div><div class="ttdef"><b>Definition:</b> FatFileSystem.h:204</div></div>
<div class="ttc" id="aclass_fat_file_system_html_acf257d02b7166683bda2abc5058004bf"><div class="ttname"><a href="class_fat_file_system.html#acf257d02b7166683bda2abc5058004bf">FatFileSystem::vwd</a></div><div class="ttdeci">FatFile * vwd()</div><div class="ttdef"><b>Definition:</b> FatFileSystem.h:316</div></div>
<div class="ttc" id="aclass_fat_file_system_html_ad60cb13557f35578f868e03e9ccb8be1"><div class="ttname"><a href="class_fat_file_system.html#ad60cb13557f35578f868e03e9ccb8be1">FatFileSystem::truncate</a></div><div class="ttdeci">bool truncate(const char *path, uint32_t length)</div><div class="ttdef"><b>Definition:</b> FatFileSystem.h:304</div></div>
<div class="ttc" id="aclass_fat_file_system_html_aee58c6352652f216577196e32a594b67"><div class="ttname"><a href="class_fat_file_system.html#aee58c6352652f216577196e32a594b67">FatFileSystem::exists</a></div><div class="ttdeci">bool exists(const char *path)</div><div class="ttdef"><b>Definition:</b> FatFileSystem.h:186</div></div>
<div class="ttc" id="aclass_fat_file_system_html_af24917d6e00c8766dab168eb834047ec"><div class="ttname"><a href="class_fat_file_system.html#af24917d6e00c8766dab168eb834047ec">FatFileSystem::chvol</a></div><div class="ttdeci">void chvol()</div><div class="ttdef"><b>Definition:</b> FatFileSystem.h:175</div></div>
<div class="ttc" id="aclass_fat_volume_html"><div class="ttname"><a href="class_fat_volume.html">FatVolume</a></div><div class="ttdoc">Access FAT16 and FAT32 volumes on raw file devices.</div><div class="ttdef"><b>Definition:</b> FatVolume.h:163</div></div>
<div class="ttc" id="aclass_fat_volume_html_a8088aa74cf601996905dadd2eea6966c"><div class="ttname"><a href="class_fat_volume.html#a8088aa74cf601996905dadd2eea6966c">FatVolume::wipe</a></div><div class="ttdeci">bool wipe(print_t *pr=0)</div><div class="ttdef"><b>Definition:</b> FatVolume.cpp:552</div></div>
<div class="ttc" id="aclass_fat_volume_html_acab819fa25a91dad1cc698a7e1e0eb32"><div class="ttname"><a href="class_fat_volume.html#acab819fa25a91dad1cc698a7e1e0eb32">FatVolume::init</a></div><div class="ttdeci">bool init()</div><div class="ttdef"><b>Definition:</b> FatVolume.h:230</div></div>
<div class="ttc" id="aclass_sd_spi_card_html"><div class="ttname"><a href="class_sd_spi_card.html">SdSpiCard</a></div><div class="ttdoc">Raw access to SD and SDHC flash memory cards via SPI protocol.</div><div class="ttdef"><b>Definition:</b> SdSpiCard.h:44</div></div>
<div class="ttc" id="aclass_string_html"><div class="ttname"><a href="class_string.html">String</a></div><div class="ttdef"><b>Definition:</b> String.h:10</div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
